[TOC]



####  1.1ã€ã€å…¬ä¼—å· - å®æ—¶èŠå¤©-å‘é€æ¶ˆæ¯æ¥å£ã€‘

è¯·æ±‚æ–¹å¼ï¼šPOSTï¼ˆHTTPï¼‰

è¯·æ±‚ç¤ºä¾‹

>http://127.0.0.1:8000/zhugeleida/gongzhonghao/chat/send_msg/0?rand_str=8bd0ac475c5c60e46a358b3e6bcc49cf&timestamp=1537514281502&user_id=1

 GET è¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 2,
}
``` 

 
POST è¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š
```  python
å‚æ•°             å¿…å¡«        è¯´æ˜
customer_id      æ˜¯         å…¬ä¼—å·å®¢æˆ·ID
u_id          æ˜¯            é›·è¾¾ç”¨æˆ·ID
content        æ˜¯        å†…å®¹ 

content = {
    'info_type' :  1 , # 1ä»£è¡¨å‘é€çš„æ–‡å­—\è¡¨æƒ…\ æˆ– è¯æœ¯åº“é‡Œçš„è‡ªå®šä¹‰(æ–‡å­—è¡¨æƒ…)ã€‚
    'msg': 'è¿™ä¸ªä¿¡æ¯æ˜¯æ–‡å­—\è¡¨æƒ…'
}

content = {
    'info_type' : 2 , # 2ä»£è¡¨å‘é€çš„äº§å“å’¨è¯¢  3ä»£è¡¨å‘é€çš„ç”µè¯å·ç   4ä»£è¡¨å‘é€çš„å›¾ç‰‡|æˆªå›¾  5ã€è§†é¢‘
    'product_cover_url': 'statics/zhugeleida/imgs/chat/2d49ecd2-9180-11e8-a32d-8e2edea1cc9c.png',
    'product_name': 'äº§å“åå­—',
    'product_price': 'äº§å“ä»·æ ¼',
}
content = {
    'info_type' : 3   ,   # 3ä»£è¡¨å®¢æˆ·è¦è§¦å‘äº‹ä»¶è¦ç”µè¯å·ç   
    'msg': 'æ‚¨å¥½,è¯·é—®èƒ½å¦å‘Šè¯‰æˆ‘æ‚¨çš„æ‰‹æœºå·?|æ‚¨å¥½,è¯·é—®èƒ½å¦åŠ ä¸‹æ‚¨çš„å¾®ä¿¡?'
    ......
}

send_type =    2     |   å‘é€ç±»å‹ï¼Œ2 ä»£è¡¨ å…¬ä¼—å·å®¢æˆ·å‘é€ç»™ç”¨æˆ·ã€‚
``` 
`` 
 


è¿”å›ç»“æœï¼š
```  python
{"code": 200, "msg": "send msg successful", "data": {}}
``` 
 


####  1.2ã€ ã€ å…¬ä¼—å· - æ—¶èŠå¤©-è·å–æœ€æ–°çš„èŠå¤©ä¿¡æ¯ã€‘

è¯·æ±‚æ–¹å¼ï¼šGETï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:

>http://127.0.0.1:8000/zhugeleida/gongzhonghao/chat/getmsg/0?rand_str=b223adf172e809f5b91d2b6864788045&timestamp=1537514484951&user_id=1&u_id=1
 
 
GET è¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š

```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 2,
    'u_id':  1   # é›·è¾¾ç”¨æˆ·ID
}

``` 

GETè¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š

```  python
å‚æ•°            å¿…å¡«          è¯´æ˜
u_id            æ˜¯           è¦å‘ç»™çš„é›·è¾¾ç”¨æˆ·ID
user_id         æ˜¯           å…¬ä¼—å·å®¢æˆ·çš„ID

``` 

 è¿”å›ç»“æœï¼š

```  python
{
    "code":200,
    "msg":"å®æ—¶è·å–-æœ€æ–°èŠå¤©ä¿¡æ¯æˆåŠŸ",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "user_id":1,
                "user_avator":"http://shp.qpic.cn/bizmp/prSBf5AvHhAV3730YB9qjpC4Uicv4pA4JBkjhgJmjzZSBB5vSC1gmrA/",
                "customer_headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcPbQBxqzSu2qXqWuCrodTSbvlBmqJuOF1OIuMp46k9SSUvCCWZCF8Nj28TCe17NwoAib2lq14bAA/132",
                "customer":"_zzz à¸ˆà¸¸à¹Šà¸š",
                "dateTime":"2018-09-21T15:18:01.548",
                "send_type":2,
                "is_first_info":false,
                "info_type":1,
                "msg":"è¿™ä¸ªä¿¡æ¯æ˜¯æ–‡å­—\è¡¨æƒ…"
            }
        ],
        "data_count":1
    }
}
``` 


####  1.3ã€ã€å…¬ä¼—å· - åˆ†é¡µè·å–-æ‰€æœ‰çš„èŠå¤©ä¿¡æ¯è®°å½•ã€‘

è¯·æ±‚æ–¹å¼ï¼šGETï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹ï¼š

>http://127.0.0.1:8000/zhugeleida/gongzhonghao/chat?rand_str=53444e4ca12d03176c9b6109c0c557b0&timestamp=1528871213546&user_id=1&customer_id=1

GET è¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'u_id': 2,   
    'customer_id': 1,
    'current_page'ï¼š1,            
    'length'     :   20           
}

```

GETå‚æ•°è¯´æ˜:

``` python
å‚æ•°           å¿…å¡«          è¯´æ˜
u_id           æ˜¯           ç”¨æˆ·çš„ID
customer_id    æ˜¯           å®¢æˆ·çš„ID

length         å¦           æ¯é¡µé•¿åº¦
current_page   å¦           å½“å‰é¡µæ•°

```

è¿”å›ç»“æœï¼š

```  python
{
    "code":200,
    "msg":"åˆ†é¡µè·å–-å…¨éƒ¨èŠå¤©æ¶ˆæ¯æˆåŠŸ",
    "data":{
        "ret_data":[
            {
                "customer_id":1,
                "from_user_name":"_zzz à¸ˆà¸¸à¹Šà¸š",
                "user_id":1,
                "customer":"_zzz à¸ˆà¸¸à¹Šà¸š",
                "user_avatar":"http://shp.qpic.cn/bizmp/prSBf5AvHhAV3730YB9qjpC4Uicv4pA4JBkjhgJmjzZSBB5vSC1gmrA/",
                "customer_headimgurl":"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83epcPbQBxqzSu2qXqWuCrodTSbvlBmqJuOF1OIuMp46k9SSUvCCWZCF8Nj28TCe17NwoAib2lq14bAA/132",
                "dateTime":"2018-09-21T15:18:01.548",
                "send_type":2,
                "is_first_info":true,
                "info_type":1,
                "msg":"è¿™ä¸ªä¿¡æ¯æ˜¯æ–‡å­—\è¡¨æƒ…"
            }
        ],
        "mingpian_phone":"18932674288",
        "wechat":"18866554433",
        "data_count":1
    }
}
``` 



####   1.4ã€ã€ å…¬ä¼—å· - èŠå¤© - è·å–èŠå¤©æ•°é‡ã€‘
è¯·æ±‚æ–¹å¼ï¼šGETï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:

>http://127.0.0.1:8000/zhugeleida/gongzhonghao/chat/query_num/0?rand_str=fda21c3109b2a3fec924da3c6f1e4d29&timestamp=1534407372677&user_id=9&u_id=1

 
 
GET è¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š

```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'u_id': 1,
    'user_id': 9
}

``` 

GETè¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š

```  python
å‚æ•°            å¿…å¡«         è¯´æ˜
u_id            æ˜¯           æ‰€å±ç”¨æˆ·çš„ID
user_id         æ˜¯           ç”¨æˆ·ID
``` 

 è¿”å›ç»“æœï¼š

```  python
{
   {
    "code":200,
    "msg":"æŸ¥è¯¢æˆåŠŸ",
    "data":{
        "chatinfo_count":1
    }
}
    
``` 


####  1.5ã€ã€ä¼ä¸šå¾®ä¿¡ - é€šè®¯å½•ä¿¡æ¯ã€‘


è¯·æ±‚æ–¹å¼ï¼šGETï¼ˆHTTPï¼‰
è®¿é—®ç¤ºä¾‹
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/tongxunlu?rand_str=9b7905e5a1887cc3809e410e3847146b&timestamp=1528783998540&user_id=1


GET è¯·æ±‚å‚æ•°éƒ¨åˆ†:

``` python
    {
        'rand_str': account.str_encrypt(timestamp + token),  ã€å…¬å…±å‚æ•°ã€‘
        'timestamp': timestamp,     ã€å…¬å…±å‚æ•°ã€‘
        'user_id': 1,                ã€å…¬å…±å‚æ•°ã€‘
        
     
        'order' : '-expedted_pr' ( é»˜è®¤æ’åºï¼‰| '-last_follow_time' | '-last_activity_time' 
       
    }
```

GETè¯·æ±‚å‚æ•°éƒ¨åˆ†ï¼š
```  python
å‚æ•°            å¿…å¡«         è¯´æ˜
user_id         æ˜¯          ç”¨æˆ·çš„ID

order           å¦          æ’åºæ–¹å¼: 1ã€-expedted_pr é¢„è®¡æˆäº¤æ¦‚ç‡  2ã€-last_follow_time  ä»£è¡¨æœ€åè·Ÿè¿›æ—¶é—´     -last_activity_time  åæ´»åŠ¨æ—¶é—´     

```
è¿”å›ç»“æœ
``` python
{
    "code":200,
    "msg":"æŸ¥è¯¢æˆåŠŸ",
    "data":{
        "ret_data":[
            {
                "customer_id":886,
                "customer_username":"åˆèƒ–äº†",  # å®¢æˆ·åå­—
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIWdR8b43407blia6uHflM9MMnzxXXlmL7NCuI7BPKy0NLS2E7HfEhwwFLWTNrKibdEbhXS8sUqwhqw/132",  # å¤´åƒURL
                "expected_time":null,  # é¢„è®¡æˆäº¤æ—¶é—´
                "expedted_pr":0,       # é¢„è®¡æˆäº¤æ¦‚ç‡
                "last_follow_time":"ä»Šå¤©",  # æœ€åè·Ÿè¿›æ—¶é—´
                "last_activity_time":"",    # æœ€åæ´»åŠ¨æ—¶é—´
                "follow_status":"ä»Šå¤©è·Ÿè¿›",  # è·Ÿè¿›çŠ¶æ€
                "article_id":2,  # æ–‡ç« ID
                "title":"jajjaj" # æ–‡ç« æ ‡é¢˜
            },
            {
                "customer_id":854,
                "customer_username":"Ju do it",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eplZzQgPbp8kI1uODkbThdUpbFMCnKTYSk6b3VjEkN673VKWaIicbCsRpPCfxHn2zBib1NYWXw1uibEg/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"3å¤©å‰",
                "last_activity_time":"ä»Šå¤©",
                "follow_status":"2018-09-18",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":898,
                "customer_username":"èƒ¡è“‰ğŸ’—Rose",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKeBic28CibfUnsic8xGbPtCsicX1XP4LlSzCv5HgT4xmIy3APqCQwrdmUibEVUosV2uHuFXm3zwQdWVXw/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":899,
                "customer_username":"æäºšé¾™â‚â‚‡â‚†â‚€â‚€â‚â‚…â‚…â‚‚â‚„â‚„å¤§åœ£",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKU1qmamaIHISykD5ib2N5nI7kGlyXddDznWhPq5csZRIHGvo1ToO46d0V3MVzk2zrKEvr0vuWOTVw/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":900,
                "customer_username":"Chesnutî€°",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83eo1iaZXQsiazianWKQjFAa0QTYcWpn0HAaOiaCaxwySjicYZicPAHzdH93iaqt5D8dKk0c1ia0BjniaxfeicIpQ/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":901,
                "customer_username":"ç±³å¤šé¢å¤šï¼ˆæ°¸å¹´åº—ï¼‰",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/DYAIOgq83epPJBibCzw66FYho9Ze2rV8WTEgI41aCKEtMNyseq1PpC1vT5e8eSV401fBH54wbT9cqbQib8zoh3icA/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":902,
                "customer_username":"å¸¸éŸµæ°",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTKiawicPkt8G5sMbKibkd8rblYtM7S8TqQmElvvRib9bJf6dGTDIqAB0L4BCwbss5RuKFeJMm7WKI49uA/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":904,
                "customer_username":"Bill",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTJaE04zqHeBMLY2JAvTcudDMgxYmu1B9bvWkB1nC0Jq0KucD2Atia5T3GysD3ibxvOrVjSzpD3TmQnQ/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":862,
                "customer_username":"ä¿®ç‚¼çˆ±æƒ…çš„æ‚²æ¬¢",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTIOQaLUnW7A2mN6N7lt3zh5Siao9LVic6ZbByeeHias5CWIjxuhM382xmTtWZN78rWZ43F5ZKheNbiahQ/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            },
            {
                "customer_id":905,
                "customer_username":"æ¢¦é­‡",
                "headimgurl":"http://thirdwx.qlogo.cn/mmopen/vi_32/OmfnbsH0TicJB3z8MLVElfgicwlpLf7QLhIgLBgW5f1uUp6Xceg3LILWrA0zjYq2ibDw95CVgel4AVv36t9mj7hWg/132",
                "expected_time":null,
                "expedted_pr":0,
                "last_follow_time":"",
                "last_activity_time":"",
                "follow_status":"æœªè·Ÿè¿›è¿‡",
                "article_id":2,
                "title":"jajjaj"
            }
        ],
        "data_count":21
    }
}
```

####  1.6ã€ã€ä¼ä¸šå¾®ä¿¡ - æŸ¥è¯¢å•ä¸ª-å®¢æˆ·ä¿¡æ¯ã€‘

GET è¯·æ±‚å‘é€æ•°æ®éƒ¨åˆ†ï¼š

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,  				#   å®¢æˆ·ID
    'customer_id'ï¼›2   			# ç”¨æˆ·ID  
}
```


è®¿é—®ç¤ºä¾‹:
 
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer      #æŸ¥è¯¢-å•ä¸ªå®¢æˆ·ä¿¡æ¯


è¿”å›ç»“æœï¼š

``` python
{
    "code":200,
    "msg":"æŸ¥è¯¢æˆåŠŸ",
    "data":{
        "ret_data":[
            {
                "id":1,
                "username":"å¼ ç‚¬[å®¢æˆ·2]",       #å®¢æˆ·åç§°  
                "headimgurl":"statics/imgs/setAvator.jpg",
                "expected_time":"2018-06-14",   #é¢„è®¡æˆäº¤æ—¶é—´
                "expedted_pr":"80",             # é¢„è®¡æˆäº¤æ¦‚ç‡
                "ai_pr":"80",                   # AI æˆäº¤ç‡
                "superior":"å¼ èª[å®¢æˆ·1]",       # ä¸Šçº§äºº
                "source":"æ‰«ç ",                # å®¢æˆ·é€šè¿‡æ‰«ç æ–¹å¼æ¥å…³æ³¨æ­¤ç”¨æˆ·ã€‚
                "memo_name":null,               # å®¢æˆ·çš„å¤‡æ³¨å
                "phone":"",                     #  å®¢æˆ·çš„æ‰‹æœºå·
                "email":"",                     # é‚®ç®± 
                "company":"",                   # åœ¨èŒå…¬å¸
                "position":"",                  # æ‰€åœ¨èŒä½
                "address":"",                   # å®¢æˆ·æ‰€åœ¨çš„ä½å€ 
                "birthday":"",                  # å®¢æˆ·çš„ç”Ÿæ—¥
                "mem":"",                       # å®¢æˆ·ä¸ªäººä¿¡æ¯å¤‡æ³¨ç­‰  
                "tag":[                         #å®¢æˆ·çš„æ ‡ç­¾
                    "åœ¨æ„è´¨é‡",
                    "ä¸€èˆ¬å®¢æˆ·",
                    "é‡è¦å®¢æˆ·",
                    "å·²å©š",
                    "çˆ±æ’¸ä¸²",
                    "90å",
                    "çˆ±åƒä¸²"
                ]
            }
        ],
        "data_count":1
    }
}
  
```

####  1.7ã€ã€ä¼ä¸šå¾®ä¿¡ -  ä¿®æ”¹å®¢æˆ·å…³è”ä¿¡æ¯ã€‘

è¯·æ±‚æ–¹å¼ï¼šPOSTï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_information/2?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1


GET è¯·æ±‚å‘é€æ•°æ®éƒ¨åˆ†ï¼š
``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
```  
POST è¯·æ±‚æ•°æ®éƒ¨åˆ†:
 
``` python
{
   
   'username' : 'å¼ ä¸‰ä¸°',
   'superior' : 1,
   'sex' : 1 ,
   'memo_name' : 'å¤ªä¹™çœŸäºº',
   'phone': '15931788974',
   'email' : '1224423@qq.com',
   'company': 'åˆä¼—åº·æ¡¥',
   'position': 'å¼€å‘TTT',
   'address' : 'é€šå·åŒºxxx',
   'mem' : 'æˆ‘æ˜¯ä¸€ä¸ªå…µ',
   'birthday' : '2018-06-1'
   
}
```

POSTå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°        å¿…å¡«          è¯´æ˜
id          æ˜¯           å®¢æˆ·ID
sex         æ˜¯           1ä»£è¡¨ç”· 2 ä»£è¡¨å¥³

username    å¦           å®¢æˆ·åã€å¤‡æ³¨åã€‘
password    å¦           å¯†ç 
email       å¦           ç”µå­é‚®ä»¶
company     å¦           å®¢æˆ·æ‰€å±å…¬å¸
position    å¦           èŒä½
address     å¦           ä½å€
birthday    å¦           ç”Ÿæ—¥
mem         å¦           å¤‡æ³¨
```

è¿”å›ç»“æœï¼š   

{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}
 
 
####  1.7ã€ã€ä¼ä¸šå¾®ä¿¡ -  ä¿®æ”¹å®¢æˆ·é¢„æˆäº¤æ—¶é—´ã€‘

è¯·æ±‚æ–¹å¼ï¼šPOSTï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_expected_time/1?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1
 

GET è¯·æ±‚å‘é€æ•°æ®éƒ¨åˆ†ã€å…¬å…±å‚æ•°ã€‘ï¼š

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
 
```  
URlå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°															è¯´æ˜
/zhugeleida/qiyeweixin/customer/update_expected_time/{ID}   å®¢æˆ·ID
```

 
POST è¯·æ±‚æ•°æ®éƒ¨åˆ†:

``` python
{
   'expected_time':  '2018-06-06'
}
```
   
POSTå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°            å¿…å¡«          è¯´æ˜
expected_time   å¦           æˆäº¤æ—¶é—´

``` 

è¿”å›ç»“æœï¼š

``` python
{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}

``` 


 
####  1.8ã€ã€ä¼ä¸šå¾®ä¿¡ -  ä¿®æ”¹å®¢æˆ·é¢„æˆäº¤ç‡ã€‘

è¯·æ±‚æ–¹å¼ï¼šPOSTï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_expected_pr/1?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1
 

GET è¯·æ±‚å‘é€æ•°æ®éƒ¨åˆ†ã€å…¬å…±å‚æ•°ã€‘ï¼š

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
 
```  
URlå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°															è¯´æ˜
/zhugeleida/qiyeweixin/customer/update_expected_pr/{ID}   å®¢æˆ·ID
```

 
POST è¯·æ±‚æ•°æ®éƒ¨åˆ†:

``` python
{
   'expedted_pr' :  80,
}
```
   
POSTå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°            å¿…å¡«          è¯´æ˜
expedted_pr     å¦           æˆäº¤ç‡

``` 

è¿”å›ç»“æœï¼š

``` python
{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}

``` 


####  1.9ã€ã€ä¼ä¸šå¾®ä¿¡ -  ä¿®æ”¹å®¢æˆ·æ ‡ç­¾ã€‘

è¯·æ±‚æ–¹å¼ï¼šPOSTï¼ˆHTTPï¼‰
è¯·æ±‚ç¤ºä¾‹:
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/customer/update_tag/1?rand_str=4c75edb76b06a2983040980f171b83e7&timestamp=1528169127235&user_id=1
 

GET è¯·æ±‚å‘é€æ•°æ®éƒ¨åˆ†ã€å…¬å…±å‚æ•°ã€‘ï¼š

``` python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
}
 
```  
URlå‚æ•°è¯´æ˜ï¼š

``` python
å‚æ•°															è¯´æ˜
/zhugeleida/qiyeweixin/customer/update_tag/{ID}   å®¢æˆ·ID
```

 
POST è¯·æ±‚æ•°æ®éƒ¨åˆ†:

``` python
{
  'tag_list' :   [2,3],  		# jsonä¿®åˆ—åŒ– æ ‡ç­¾IDï¼Œä¸ºç©ºå¯ä»¥ä¼  []
}
```
   


è¿”å›ç»“æœï¼š

``` python
{"code": 200, "msg": "\u6dfb\u52a0\u6210\u529f", "data": {}}

``` 



####  ã€ä¼ä¸šå¾®ä¿¡-é›·è¾¾ã€‘ æŒ‰æ—¶é—´å±•ç¤ºè®¿é—®æ—¥å¿—

è¯·æ±‚æ–¹å¼ï¼šGETï¼ˆHTTPï¼‰
è®¿é—®ç¤ºä¾‹
>http://127.0.0.1:8000/zhugeleida/qiyeweixin/action/time?length=10&current_page=1&customer_id=60&rand_str=18440ec408ae9ba825651358e29f35d3&timestamp=1537603223134&user_id=55


GET è¯·æ±‚å‚æ•°éƒ¨åˆ†ã€å…¬å…±å‚æ•°ã€‘
```  python
{
    'rand_str': account.str_encrypt(timestamp + token),
    'timestamp': timestamp,
    'user_id': 1,
    'customer_id': 60,

}
```



è¿”å›ç»“æœï¼š
```  python
{
    "code":200,
    "msg":"æŸ¥è¯¢æ—¥å¿—è®°å½•æˆåŠŸ",
    "data":{
        "ret_data":[
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"å¼ èªè§‰å¾—é è°±",
                "create_date":"2018-06-19T10:03:29"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"å¼ èªè®¿é—®äº†äº§å“",
                "create_date":"2018-06-09T14:01:34"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"å¼ èªè®¿é—®æ‚¨çš„äº§å“",
                "create_date":"2018-06-09T10:03:29"
            },
            {
                "user_id":1,
                "customer_id":1,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"å¼ ç‚¬åˆä¸€æ¬¡è®¿é—®äº†æ‚¨çš„åç‰‡ï¼Œä»–å¨˜çš„ã€‚",
                "create_date":"2018-06-09T10:02:12"
            },
            {
                "user_id":1,
                "customer_id":2,
                "headimgurl":"statics/imgs/setAvator.jpg",
                "log":"å¼ èªè®¿é—®äº†äº§å“",
                "create_date":"2018-06-09T10:01:34"
            }
        ],
        "data_count":36
    }
}
```